<link rel="import" href="../elements.html">

<dom-module id="previous-episodes">
	<style>
		:host {
			height: 100%;
			width: 100%;
			font-family: 'Roboto', sans-serif;
			-webkit-font-smoothing: antialiased;
			text-rendering: optimizeLegibility;
			font-weight: 100;
		}
		paper-material {
			margin: 20px 20px;
			width: calc(100% - 40px);
			min-height: 120px;
			background: white;
		}
		.episode {
			margin: 10px;
		}
		.info {
			border-top : 1px solid rgba(0,0,0,0.12);
			background: rgba(0,0,0,0.06);
			min-height: 20px;
			padding: 10px;
		}

		h1, h3, h5, p {
			font-weight: 100;
			margin: 5px 10px 0;
		}

		h1 {
			color: var(--primary-text-color);
			margin: 20px;
		}

		.tags{
			line-height: 1.5em;
			height: 1.5em;
			overflow: hidden;
			text-overflow: ellipsis;
		}
		.tags span {
			font-size: 10px;
			background-color: white;
			padding: 3px;
			margin-right: 5px;
		}
		.date{
			margin-top: 3px;
		}

		@media all and (min-width: 0) and (max-width: 600px) {
			paper-material iron-image {
				height: 100px;
				width: 100px;
			}
			p{
				line-height: 1.5em;
				height: 3em;
				overflow: hidden;
				text-overflow: ellipsis;
			}
		}
		@media all and (min-width: 601px) {
			paper-material iron-image {
				height: 130px;
				width: 130px;
			}
			p{
				line-height: 1.5em;
				height: 6em;
				overflow: hidden;
				text-overflow: ellipsis;
			}
		}
	</style>
	<template>
		<h1>All Episodes</h1>
		<iron-localstorage name="content" value="{{content}}"></iron-localstorage>
		<template is="dom-repeat" items="{{content}}">
			<paper-material class="layout vertical">
				<div class="flex layout horizontal episode">
					<iron-image src="{{item.coverart}}"  sizing="contain"></iron-image>
					<div class="flex">
						<h5>Episode <span>{{item.episode}}</span></h5>
						<h3>{{item.title}}</h3>
						<p>{{item.summary}}</p>
					</div>
				</div>
				<div class="info layout horizontal">
					<div class="tags flex">
						<template is="dom-repeat" items="{{item.tags}}">
							<span>{{item}}</span>
						</template>
					</div>
					<div class="date">{{item.date}}</div>
				</div>
			</paper-material>
		</template>
	</template>
</dom-module>
<script>
	( function() {
		Polymer({
			is: 'previous-episodes',
			properties: {
				content: {
					type: Object,
					value: []
				}
			}
		});
	})();
</script>